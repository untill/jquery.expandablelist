(function(a){var b={NS:"jquery.expandablelist-",classNames:{expanded:"expanded",contracted:"contracted",childless:"childless"},icons:{expanded:"plugin/minus.svg",contracted:"plugin/plus.svg",childless:"plugin/disc.svg"},titles:{expanded:"Show less",contracted:"Show more"},alts:{expanded:"Less",contracted:"More"},allowedKeyCodes:{expanded:[13,37,38],contracted:[13,39,40]}};a.fn.makeExpandable=function(c){var d=a.extend(b,c);a(this).on("click keyup","li.expanded > img",function(e){if(e.type=="keyup"){var f=e.keyCode||e.which;if(d.allowedKeyCodes.expanded.indexOf(f)<0){return false}}a(this).trigger("contractItem")}).on("click keyup","li.contracted > img",function(e){if(e.type=="keyup"){var f=e.keyCode||e.which;if(d.allowedKeyCodes.contracted.indexOf(f)<0){return false}}a(this).trigger("expandItem")});a(this).on("contractItem","img",function(){a(this).siblings("ul").hide("fast");a(this).attr("src",d.icons.contracted);a(this).attr("alt",d.alts.contracted);a(this).attr("title",d.titles.contracted);a(this).parent().removeClass(d.classNames.expanded).addClass(d.classNames.contracted)}).on("longClick","li.expanded > img",function(){a(this).parent().find("li.expanded > img").add(this).trigger({type:"keyup",keyCode:13})}).on("expandItem","img",function(){a(this).siblings("ul").show("fast");a(this).attr("src",d.icons.expanded);a(this).attr("alt",d.alts.expanded);a(this).attr("title",d.titles.expanded);a(this).parent().removeClass(d.classNames.contracted).addClass(d.classNames.expanded)}).on("longClick","li.contracted > img",function(){a(this).parent().find("li.contracted > img").add(this).trigger({type:"keyup",keyCode:13})});a(this).find("li:not(:has(*))").addClass(d.classNames.childless).prepend(a("<img/>",{alt:"",src:d.icons.childless}));a(this).find("li."+d.classNames.expanded).not("."+d.classNames.childless).prepend(a("<img/>",{alt:d.alts.expanded,title:d.titles.expanded,src:d.icons.expanded,tabindex:0}));a(this).find("li").not("."+d.classNames.expanded).not("."+d.classNames.childless).addClass(d.classNames.contracted).prepend(a("<img/>",{alt:d.alts.contracted,title:d.titles.contracted,src:d.icons.contracted,tabindex:0})).children("ul").hide();a(this).find("li > img").mayTriggerLongClicks();return a(this)}})(jQuery);